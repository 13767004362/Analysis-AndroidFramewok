

androidStudio除了简单的单行调试外，还有需要高级用法。


#### **Evaluate Expression弹窗**

debug过程中,在Studio-->Run-->Evaluate Expression弹窗,可以用于求值环境。

**常用的场景**：
- 修改变量的值去执行,查看执行结果。
- 调用变量对象的方法去执行，用于查看执行方法的结果。

通过一个案例进一步了解。


例如 , 弹窗中表达式框内输入`result="哈哈"`,点击evaluate按钮,接着继续走调试流程,则最后调试结果如下：

#### **条件断点**

对着代码鼠标左键会打上红色的断点，对着断点右键点击会出现一个弹窗。

该弹窗内有一个执行的条件，可以过滤掉其他的调试流程。

例如,在一个for循环中,只需要调试一个种情况，例如输入`s.equals("3")`,则直接跳到该条件下的调试，如下图所示：


#### **日志断点**

对着代码鼠标左键会打上红色的断点，对着断点右键点击会出现一个弹窗。

当行代码,未添加日志，但又想知道输入出日志

取消勾选suspend选项，出现如下弹窗：


勾选`Log message to console`和`Evaluate and log`,输入日志信息`"s的值："+s`,如下图所示：


代码调试到这里，**不会停在断点，但会输出日志**，如下：


#### **方法断点**

若是想了解某个方法的参数或者返回值，可以使用方法断点,进行调试。
在感兴趣的方法头那一行左键打上断点，如下所示：





如果经常跳出函数或者只对某个函数的参数感兴趣,这种类型的断点非常实用。


#### **异常断点**

在调试整个项目过程中，需要排除某个特殊的异常，可考虑异常断点。

异常断点，会对特定异常发生时候，会让程序断点停下来的情况。

具体做法是,run-->View BreakPoints --> 绿色的+号，如下所示：


例如,这里除数为0,会抛出ArithmeticException。点击 java exception breakpoints选项,在输入框填写ArithmeticException,点击ok完成。


运行调试,当捕捉到指定异常时候，会自动停下来,如下图所示：

#### **Field WatchPoint**

在多线程情况下,修改共享对象是很常见的，但有时候想了解对象的属性，通过日志查看修改状态是较为复杂.

在了解修改属性的值时候，就可以使用Filed WatchPoint。

操作方式直接在属性左键，进入Filed WatchPoint。


当属性每次被修改，程序都会停下来，可以查看修改前的值和修改后的值。

通过一个小案例，进一步体验。


第一次修改的查看，如下：


第二次修改的查看，如下：



**参考资料**：
- [Android Studio你不知道的调试技巧](http://weishu.me/2015/12/21/android-studio-debug-tips-you-may-not-know/)